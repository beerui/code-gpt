import{d as P,r as s,i as g,t as v,v as A,L as u,M as y,A as t,z as a,B as C,N as w,O,x as U,y as j,P as f,Q,R as q,S as F,T as G,U as J,_ as W}from"./nSZ01gYp.js";import{g as X}from"./D-qRlJa5.js";import{baseHeadConfig as Y,baseSearchConfig as B,breadcrumb as Z,isCollapse as $,baseTableColumns as ee}from"./CHBpDOk7.js";import"./CgVtH_JQ.js";const ae={class:"g-warp"},te=P({__name:"index",setup(oe){const d=s([]),m=s(!1),h=s(),o=s({total:0,current:1,pageSize:10}),_=s({height:"44px"}),c=s(!0),p=s(),S=()=>{p.value=null,c.value?p.value=setTimeout(()=>{_.value.height="auto"},200):p.value=setTimeout(()=>{_.value.height="44px"},0),c.value=!c.value},x=s(Y),T=ee(e=>console.log(e),e=>console.log(e),e=>console.log(e)),k=e=>{d.value=e},r=async()=>{m.value=!0;const e={pageNum:o.value.current,pageSize:o.value.pageSize};try{const{content:n,total:l}=await X(e);h.value=n??[],o.value.total=l}catch(n){console.error(n)}finally{m.value=!1}};r();const z=()=>{o.value.current=1,r()},E=()=>{B.forEach(e=>{e.value=e.default}),o.value.current=1,r()},R=e=>{o.value.current=e.current,o.value.pageSize=e.pageSize,r()},N=e=>{const{type:n,method:l}=e.event??e;n==="METHOD"&&D[l]()},D={handleAdd:async()=>{await f.success("调起新增 !")},onImport:async()=>{await f.success("导入成功!")},onExport:async()=>{await f.success("导出成功,请下载保存!")}};return(e,n)=>{const l=Q,H=q,i=F,K=g("BaseSearchBar"),L=G,b=J,M=g("BaseTableHead"),V=g("BaseTable");return v(),A("div",ae,[u(Z)?(v(),y(i,{key:0,direction:"vertical",style:{width:"100%"}},{default:t(()=>[a(H,{"max-item-width":"150",style:{"margin-bottom":"16px"}},{default:t(()=>[a(l,null,{default:t(()=>[C("党建宣传")]),_:1}),a(l,null,{default:t(()=>[C("2430养护橙成员管理")]),_:1})]),_:1})]),_:1})):w("",!0),a(i,{direction:"vertical",style:{width:"100%"}},{default:t(()=>[a(b,{bordered:!1},{default:t(()=>[a(i,{style:O([_.value,{overflow:"hidden","align-items":"normal"}]),direction:"vertical"},{default:t(()=>[a(K,{config:u(B),onReset:E,onSubmit:z},null,8,["config"])]),_:1},8,["style"]),u($)?(v(),y(L,{key:0,justify:"end",align:"center"},{default:t(()=>[U("div",{class:"action",onClick:S},j(c.value?"展开":"收起"),1)]),_:1})):w("",!0)]),_:1}),a(b,{bordered:!1},{default:t(()=>[a(i,{direction:"vertical",style:{width:"100%"}},{default:t(()=>[a(M,{config:x.value,onClick:N},null,8,["config"]),a(V,{selectedRowKeys:d.value,"onUpdate:selectedRowKeys":n[0]||(n[0]=I=>d.value=I),"row-key":"id",columns:u(T),data:h.value,"data-loading":m.value,pagination:o.value,onPageChange:R,onSelectChange:k},null,8,["selectedRowKeys","columns","data","data-loading","pagination"])]),_:1})]),_:1})]),_:1})])}}}),de=W(te,[["__scopeId","data-v-cadcac4b"]]);export{de as default};
